<script>
	import api from "../api";
	export let path = "";
	export let method = "get";
	export let value;
	let endpoint = api(path)[method.toLowerCase()]().then(data => {
		value = data;
		return data;
	});
</script>

{#await endpoint}
	<i class="fas fa-spinner fa-spin" />
{:then response}
	<slot {response} />
{/await}
